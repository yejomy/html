<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>전세계 날씨 조회</title>
    <link rel="stylesheet" href="./css/style2.css" />
  </head>

  <body>
    <!-- ✅ 배경 레이어 2장(교차 페이드 + 줌/블러 전환용) -->
    <div id="bgA" class="bg bgA is-active" aria-hidden="true"></div>
    <div id="bgB" class="bg bgB" aria-hidden="true"></div>

    <!-- 날씨 애니메이션(비/눈) -->
    <canvas id="fx" class="fx" aria-hidden="true"></canvas>

    <!-- 그라데이션/가독성 오버레이(날씨에 따라 진하기 조절) -->
    <div id="shade" class="shade" aria-hidden="true"></div>

    <div class="container">
      <header class="header">
        
          <!-- ✅ 상단 가운데 로고 -->
  <div class="topLogo">
    <img src="./images/logo2.png" alt="CY Weather logo" />
  </div>

        <h1 class="title">Worldwide weather</h1>
        <p class="subtitle">
          현재 위치 또는 도시 검색으로 <b>오늘의 날씨</b> / <b>풍속</b> / <b>습도</b> / <b>대기질(AQI)</b>을 확인합니다.
        </p>

        <form id="searchForm" class="search" autocomplete="off">
          <input id="cityInput" type="text" placeholder="도시를 입력하세요 (예: Seoul, Tokyo, Paris)" />
          <button type="submit">검색</button>
        </form>

        <div class="toolbar">
          <button id="btnMyLocation" type="button">내 위치로 다시 조회</button>
          <span class="hint">* 브라우저 위치 권한 허용이 필요합니다.</span>
        </div>
      </header>

      <!-- 로딩 -->
      <div id="spinner" class="spinner" aria-live="polite" aria-busy="true">
        <div class="spin" aria-label="loading"></div>
      </div>

      <!-- 에러 -->
      <div id="errorBox" class="error"></div>

      <!-- 결과 -->
      <section id="result" class="dashboard" style="display:none;">
        <!-- 왼쪽 큰 카드 (오른쪽 전체 높이와 맞춤: CSS에서 row span) -->
        <div class="card big">
          <div class="cardTop">
            <div>
              <div class="label">현재 위치/도시</div>
              <div id="place" class="place">-</div>
              <div id="coords" class="meta">-</div>
              <div id="updatedAt" class="meta">업데이트: -</div>
            </div>

            <div class="rightIcon">
              <img id="icon" class="icon" alt="weather" />
            </div>
          </div>

          <div class="divider"></div>

          <div class="today">
            <div class="label">오늘의 날씨</div>
            <div id="temp" class="temp">-</div>
            <div id="desc" class="desc">-</div>
            <div id="feels" class="meta">체감 -</div>
          </div>
        </div>

        <!-- 오른쪽 영역 -->
        <div class="right">
          <!-- 시간대별 기온 변화(실데이터) -->
          <div class="card box lightBox">
            <div class="boxTitle darkTitle">시간대별 기온 변화</div>
            <div id="hourlyHint" class="meta darkMeta">오늘 기준 3시간 간격 예보(최대 24시간)</div>

            <div id="hourlyChart" class="hourlyChart"></div>
            <div id="hourlyLabels" class="hourlyLabels"></div>
          </div>

          <div class="row2">
            <div class="card box">
              <div class="boxTitle">바람 / 습도</div>
              <div class="kv">
                <div class="kvItem">
                  <div class="label">풍속</div>
                  <div id="wind" class="kvValue">-</div>
                </div>
                <div class="kvItem">
                  <div class="label">습도</div>
                  <div id="humidity" class="kvValue">-</div>
                </div>
              </div>
              <div id="sun" class="meta">일출 - · 일몰 -</div>
            </div>

            <div class="card box">
              <div class="boxTitle">대기질 / 미세먼지</div>
              <div class="kv">
                <div class="kvItem">
                  <div class="label">AQI</div>
                  <div id="aqi" class="kvValue">-</div>
                </div>
                <div class="kvItem">
                  <div class="label">PM2.5</div>
                  <div id="pm25" class="kvValue">-</div>
                </div>
                <div class="kvItem">
                  <div class="label">PM10</div>
                  <div id="pm10" class="kvValue">-</div>
                </div>
              </div>
              <div class="meta">* AQI(OpenWeather 1~5)</div>
            </div>
          </div>
        </div>
      </section>

      <footer class="footer">
        데이터 제공: OpenWeather (Current Weather / Geocoding / Air Pollution / Forecast)
      </footer>
    </div>

    <script src="./js/main2..js"></script>
  </body>
</html>
